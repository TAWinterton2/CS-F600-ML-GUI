{% extends 'base.html' %}

{% block head %}

    <title>Index Page</title>
    
{% endblock %}

{% block body %}
<div class = "File Upload"></div>
    <h1>Python Flask Benchmark Test</h1>
    <p>This HTML webpage serves as a benchmark for testing Python Flask's capabilities in uploading and displaying .csv file data.</p>
    <br/>
    <h2>Please submit a .csv file.</h2>
    <form method="POST" enctype=multipart/form-data>
        <input type="file" name="file">
        <input type="submit" value="Submit File">
    </form>
</div>

{% if file_upload == True %}
<p style="color:blue">File Upload Successful</p>
<br/>
<div class = "Success"></div>
    <h2>{{file_name}} displayed as an HTML Table.</h2>
    <table>
        <h1>
        <!--Displaying the converted table-->
            {% for table in tables %}
            <h2>{{titles[loop.index]}}</h2>                            
            {{ table|safe }}
            {% endfor %}     
        </h1> 
    </table>

    <br/>
    <h2>{{file_name}} contents displayed as a Line Graph.</h2>
    <img src="data:image/png;base64,{{img1}}"/>
    <!--<h2>{{file_name}} contents displayed as a Bar Graph.</h2>-->
    <!--<h2>{{file_name}} contents displayed as a Scatter Plot Graph.</h2>-->
</div>
{% endif %}

{% if file_upload == False %}
    <br/>
    <p style="color:red">File Upload Unsuccessful</p> 
    <p>{{error}}</p>  
{% endif %}
{% endblock %}